<?xml version="1.0"?>

<beans
	default-destroy-method="destroy"
	default-init-method="afterPropertiesSet"
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"
>
	<bean id="com.liferay.portal.service.impl.LayoutLocalServiceStagingAdvice" class="com.liferay.portal.service.impl.LayoutLocalServiceStagingAdvice" />
	<bean id="com.liferay.portal.service.impl.LayoutSetLocalServiceStagingAdvice" class="com.liferay.portal.service.impl.LayoutSetLocalServiceStagingAdvice" />
	<bean id="com.liferay.portal.service.impl.PortletPreferencesLocalServiceStagingAdvice" class="com.liferay.portal.service.impl.PortletPreferencesLocalServiceStagingAdvice" />
	<aop:config proxy-target-class="false">
		<aop:advisor advice-ref="com.liferay.portal.service.impl.LayoutLocalServiceStagingAdvice" pointcut="bean(com.liferay.portal.service.LayoutLocalService)" />
		<aop:advisor advice-ref="com.liferay.portal.service.impl.LayoutSetLocalServiceStagingAdvice" pointcut="bean(com.liferay.portal.service.LayoutSetLocalService)" />
		<aop:advisor advice-ref="com.liferay.portal.service.impl.PortletPreferencesLocalServiceStagingAdvice" pointcut="bean(com.liferay.portal.service.PortletPreferencesLocalService)" />
	</aop:config>

	<bean id="com.liferay.portal.service.persistence.lar.DigestErrorRegistryAdvice" class="com.liferay.portal.service.persistence.lar.DigestErrorRegistryAdvice" />
	<aop:config proxy-target-class="false">
		<aop:advisor advice-ref="com.liferay.portal.service.persistence.lar.DigestErrorRegistryAdvice" pointcut="bean(com.liferay.portal.service.persistence.lar*)" />
	</aop:config>

	<bean id="baseDataHandler" abstract="true">
		<property name="xstreamWrapper" ref="xStreamWrapper" />
	</bean>
	<bean id="xStreamWrapper" class="com.liferay.portal.lar.XStreamWrapperImpl" init-method="initWrapper" />

	<bean id="com.liferay.portal.kernel.staging.LayoutStagingUtil" class="com.liferay.portal.kernel.staging.LayoutStagingUtil">
		<property name="layoutStaging">
			<bean class="com.liferay.portal.staging.LayoutStagingImpl" />
		</property>
	</bean>
	<bean id="com.liferay.portal.kernel.staging.StagingUtil" class="com.liferay.portal.kernel.staging.StagingUtil">
		<property name="staging">
			<bean class="com.liferay.portal.staging.StagingImpl" />
		</property>
	</bean>
	<bean id="com.liferay.portal.kernel.staging.permission.StagingPermissionUtil" class="com.liferay.portal.kernel.staging.permission.StagingPermissionUtil">
		<property name="stagingPermission">
			<bean class="com.liferay.portal.staging.permission.StagingPermissionImpl" />
		</property>
	</bean>

	<bean id="com.liferay.portal.kernel.staging.DataHandlerLocator" class="com.liferay.portal.kernel.staging.DataHandlerLocatorUtil">
		<property name="locator" ref="com.liferay.portal.staging.DataHandlerLocatorImpl" />
	</bean>
	<bean id="com.liferay.portal.staging.DataHandlerLocatorImpl" class="com.liferay.portal.staging.DataHandlerLocatorImpl">
		<property name="larPersistenceMapping">
			<map key-type="java.lang.String" value-type="java.lang.String">
				<entry key="com.liferay.portal.model.Layout" value="com.liferay.portal.service.persistence.lar.LayoutDataHandler" />
				<entry key="com.liferay.portlet.bookmarks.model.BookmarksEntry" value="com.liferay.portal.service.persistence.lar.BookmarksEntryDataHandler" />
				<entry key="com.liferay.portlet.bookmarks.model.BookmarksFolder" value="com.liferay.portal.service.persistence.lar.BookmarksFolderDataHandler" />
				<entry key="com.liferay.portal.service.persistence.lar.BookmarksPortletDataHandlerImpl" value="com.liferay.portal.service.persistence.lar.BookmarksPortletDataHandler" />
				<entry key="com.liferay.portal.model.LayoutSet" value="com.liferay.portal.service.persistence.lar.LayoutSetDataHandler" />
				<entry key="com.liferay.portal.model.PortletPreferences" value="com.liferay.portal.service.persistence.lar.PortletPreferencesDataHandler" />
				<entry key="com.liferay.portlet.asset.model.AssetVocabulary" value="com.liferay.portal.service.persistence.lar.AssetVocabuaryDataHandler" />
				<entry key="com.liferay.portlet.asset.model.AssetCategory" value="com.liferay.portal.service.persistence.lar.AssetCategoryDataHandler" />
				<entry key="com.liferay.portlet.asset.model.AssetCategoryProperty" value="com.liferay.portal.service.persistence.lar.AssetCategoryPropertyDataHandler" />
			</map>
		</property>
	</bean>
</beans>